/**
 * Copyright (c) 2007-2014 Kaazing Corporation. All rights reserved.
 * 
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 * 
 *   http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 */
function URI(a){a=a||"";var b=0,c=a.indexOf("://");if(-1!=c){this.scheme=a.slice(0,c),b=c+3;var d=a.indexOf("/",b);-1==d&&(d=a.length,a+="/");var e=a.slice(b,d);this.authority=e,b=d,this.host=e;var f=e.indexOf(":");if(-1!=f&&(this.host=e.slice(0,f),this.port=parseInt(e.slice(f+1),10),isNaN(this.port)))throw new Error("Invalid URI syntax")}var g=a.indexOf("?",b);-1!=g&&(this.path=a.slice(b,g),b=g+1);var h=a.indexOf("#",b);-1!=h?(-1!=g?this.query=a.slice(b,h):this.path=a.slice(b,h),b=h+1,this.fragment=a.slice(b)):-1!=g?this.query=a.slice(b):this.path=a.slice(b)}var Kaazing=Kaazing||{};"function"!=typeof Kaazing.namespace&&(Kaazing.namespace=function(a){var b=a.split("."),c=Kaazing;"Kaazing"===b[0]&&(b=b.slice(1));for(var d=0;d<b.length;d++)"undefined"==typeof c[b[d]]&&(c[b[d]]={}),c=c[b[d]];return c});var Logger=function(a){this._name=a,this._level=Logger.Level.INFO};!function(){Logger.Level={OFF:8,SEVERE:7,WARNING:6,INFO:5,CONFIG:4,FINE:3,FINER:2,FINEST:1,ALL:0};for(var a,b=document.getElementsByTagName("meta"),c=0;c<b.length;c++)if("kaazing:logging"===b[c].name){a=b[c].content;break}if(Logger._logConf={},a)for(var d=a.split(","),c=0;c<d.length;c++){var e=d[c].split("=");Logger._logConf[e[0]]=e[1]}var f={};Logger.getLogger=function(a){var b=f[a];return void 0===b&&(b=new Logger(a),f[a]=b),b};var g=Logger.prototype;g.setLevel=function(a){a&&a>=Logger.Level.ALL&&a<=Logger.Level.OFF&&(this._level=a)},g.isLoggable=function(a){for(var b in Logger._logConf)if(Logger._logConf.hasOwnProperty(b)&&this._name.match(b)){var c=Logger._logConf[b];if(c)return Logger.Level[c]<=a}return this._level<=a};var h=function(){},i={};i[Logger.Level.OFF]=h,i[Logger.Level.SEVERE]=window.console?console.error||console.log||h:h,i[Logger.Level.WARNING]=window.console?console.warn||console.log||h:h,i[Logger.Level.INFO]=window.console?console.info||console.log||h:h,i[Logger.Level.CONFIG]=window.console?console.info||console.log||h:h,i[Logger.Level.FINE]=window.console?console.debug||console.log||h:h,i[Logger.Level.FINER]=window.console?console.debug||console.log||h:h,i[Logger.Level.FINEST]=window.console?console.debug||console.log||h:h,i[Logger.Level.ALL]=window.console?console.log||h:h,g.config=function(a,b){this.log(Logger.Level.CONFIG,a,b)},g.entering=function(a,b,c){if(this.isLoggable(Logger.Level.FINER)){"chrome"!=browser&&"safari"!=browser||(a=console);var d=i[Logger.Level.FINER];c?"object"==typeof d?d("ENTRY "+b,c):d.call(a,"ENTRY "+b,c):"object"==typeof d?d("ENTRY "+b):d.call(a,"ENTRY "+b)}},g.exiting=function(a,b,c){if(this.isLoggable(Logger.Level.FINER)){var d=i[Logger.Level.FINER];"chrome"!=browser&&"safari"!=browser||(a=console),c?"object"==typeof d?d("RETURN "+b,c):d.call(a,"RETURN "+b,c):"object"==typeof d?d("RETURN "+b):d.call(a,"RETURN "+b)}},g.fine=function(a,b){this.log(Logger.Level.FINE,a,b)},g.finer=function(a,b){this.log(Logger.Level.FINER,a,b)},g.finest=function(a,b){this.log(Logger.Level.FINEST,a,b)},g.info=function(a,b){this.log(Logger.Level.INFO,a,b)},g.log=function(a,b,c){if(this.isLoggable(a)){var d=i[a];"chrome"!=browser&&"safari"!=browser||(b=console),"object"==typeof d?d(c):d.call(b,c)}},g.severe=function(a,b){this.log(Logger.Level.SEVERE,a,b)},g.warning=function(a,b){this.log(Logger.Level.WARNING,a,b)}}();var ULOG=Logger.getLogger("com.kaazing.gateway.client.loader.Utils"),getMetaValue=function(a){ULOG.entering(this,"Utils.getMetaValue",a);for(var b=document.getElementsByTagName("meta"),c=0;c<b.length;c++)if(b[c].name===a){var d=b[c].content;return ULOG.exiting(this,"Utils.getMetaValue",d),d}ULOG.exiting(this,"Utils.getMetaValue")},arrayCopy=function(a){ULOG.entering(this,"Utils.arrayCopy",a);for(var b=[],c=0;c<a.length;c++)b.push(a[c]);return b},arrayFilter=function(a,b){ULOG.entering(this,"Utils.arrayFilter",{array:a,callback:b});for(var c=[],d=0;d<a.length;d++){var e=a[d];b(e)&&c.push(a[d])}return c},indexOf=function(a,b){ULOG.entering(this,"Utils.indexOf",{array:a,searchElement:b});for(var c=0;c<a.length;c++)if(a[c]==b)return ULOG.exiting(this,"Utils.indexOf",c),c;return ULOG.exiting(this,"Utils.indexOf",-1),-1},decodeByteString=function(a){ULOG.entering(this,"Utils.decodeByteString",a);for(var b=[],c=0;c<a.length;c++)b.push(255&a.charCodeAt(c));var d=new Kaazing.ByteBuffer(b),e=getStringUnterminated(d,Kaazing.Charset.UTF8);return ULOG.exiting(this,"Utils.decodeByteString",e),e},decodeArrayBuffer=function(a){ULOG.entering(this,"Utils.decodeArrayBuffer",a);for(var b=new Uint8Array(a),c=[],d=0;d<b.length;d++)c.push(b[d]);var b=new Kaazing.ByteBuffer(c),e=getStringUnterminated(b,Kaazing.Charset.UTF8);return ULOG.exiting(this,"Utils.decodeArrayBuffer",e),e},decodeArrayBuffer2ByteBuffer=function(a){ULOG.entering(this,"Utils.decodeArrayBuffer2ByteBuffer");for(var b=new Uint8Array(a),c=[],d=0;d<b.length;d++)c.push(b[d]);return ULOG.exiting(this,"Utils.decodeArrayBuffer2ByteBuffer"),new Kaazing.ByteBuffer(c)},ESCAPE_CHAR=String.fromCharCode(127),NULL=String.fromCharCode(0),LINEFEED="\n",encodeEscapedByteString=function(a){ULOG.entering(this,"Utils.encodeEscapedByte",a);for(var b=[];a.remaining();){var c=a.getUnsigned(),d=String.fromCharCode(c);switch(d){case ESCAPE_CHAR:b.push(ESCAPE_CHAR),b.push(ESCAPE_CHAR);break;case NULL:b.push(ESCAPE_CHAR),b.push("0");break;case LINEFEED:b.push(ESCAPE_CHAR),b.push("n");break;default:b.push(d)}}var e=b.join("");return ULOG.exiting(this,"Utils.encodeEscapedBytes",e),e},encodeByteString=function(a,b){if(ULOG.entering(this,"Utils.encodeByteString",{buf:a,requiresEscaping:b}),b)return encodeEscapedByteString(a);for(var c=a.array,d=0==a.position&&a.limit==c.length?c:a.getBytes(a.remaining()),e=!XMLHttpRequest.prototype.sendAsBinary,f=d.length-1;f>=0;f--){var g=d[f];0==g&&e?d[f]=256:0>g&&(d[f]=255&g)}var h=0,i=[];do{var j=Math.min(d.length-h,1e4);partOfBytes=d.slice(h,h+j),h+=j,i.push(String.fromCharCode.apply(null,partOfBytes))}while(h<d.length);var k=i.join("");if(d===c)for(var f=d.length-1;f>=0;f--){var g=d[f];256==g&&(d[f]=0)}return ULOG.exiting(this,"Utils.encodeByteString",k),k},getStringUnterminated=function(a,b){for(var c=a.position,d=a.limit,e=a.array;d>c;)c++;try{return a.limit=c,b.decode(a)}finally{c!=d&&(a.limit=d,a.position=c+1)}},browser=null;if("undefined"!=typeof ActiveXObject)browser=-1!=navigator.userAgent.indexOf("MSIE 10")?"chrome":"ie";else if(-1!=navigator.userAgent.indexOf("Trident/7")&&-1!=navigator.userAgent.indexOf("rv:11"))browser="chrome";else if(-1!=navigator.userAgent.indexOf("Edge"))browser="chrome";else if("[object Opera]"==Object.prototype.toString.call(window.opera))browser="opera";else if(-1!=navigator.vendor.indexOf("Apple"))browser="safari",-1==navigator.userAgent.indexOf("iPad")&&-1==navigator.userAgent.indexOf("iPhone")||(browser.ios=!0);else if(-1!=navigator.vendor.indexOf("Google"))browser=-1!=navigator.userAgent.indexOf("Android")&&-1==navigator.userAgent.indexOf("Chrome")?"android":"chrome";else{if("Gecko"!=navigator.product||!window.find||navigator.savePreferences)throw new Error("couldn't detect browser");browser="firefox"}!function(a){if("undefined"==typeof a.ByteOrder){var b=function(){},c=b.prototype;c.toString=function(){throw new Error("Abstract")};var d=function(a){return 255&a},e=function(a){return 128&a?-256|a:a},f=function(a){return[a>>8&255,255&a]},g=function(a,b){return e(a)<<8|255&b},h=function(a,b){return(255&a)<<8|255&b},i=function(a,b,c){return(255&a)<<16|(255&b)<<8|255&c},j=function(a){return[a>>16&255,a>>8&255,255&a]},k=function(a,b,c){return(255&a)<<16|(255&b)<<8|255&c},l=function(a){return[a>>24&255,a>>16&255,a>>8&255,255&a]},m=function(a,b,c,d){return e(a)<<24|(255&b)<<16|(255&c)<<8|255&d},n=function(a,b,c,d){var e=h(a,b),f=h(c,d);return 65536*e+f};b.BIG_ENDIAN=function(){var a=function(){};a.prototype=new b;var c=a.prototype;return c._toUnsignedByte=d,c._toByte=e,c._fromShort=f,c._toShort=g,c._toUnsignedShort=h,c._toUnsignedMediumInt=i,c._fromMediumInt=j,c._toMediumInt=k,c._fromInt=l,c._toInt=m,c._toUnsignedInt=n,c.toString=function(){return"<ByteOrder.BIG_ENDIAN>"},new a}(),b.LITTLE_ENDIAN=function(){var a=function(){};a.prototype=new b;var c=a.prototype;return c._toByte=e,c._toUnsignedByte=d,c._fromShort=function(a){return f(a).reverse()},c._toShort=function(a,b){return g(b,a)},c._toUnsignedShort=function(a,b){return h(b,a)},c._toUnsignedMediumInt=function(a,b,c){return i(c,b,a)},c._fromMediumInt=function(a){return j(a).reverse()},c._toMediumInt=function(a,b,c,d,e,f){return k(f,e,d,c,b,a)},c._fromInt=function(a){return l(a).reverse()},c._toInt=function(a,b,c,d){return m(d,c,b,a)},c._toUnsignedInt=function(a,b,c,d){return n(d,c,b,a)},c.toString=function(){return"<ByteOrder.LITTLE_ENDIAN>"},new a}(),a.ByteOrder=b}}(Kaazing),function(a){function b(a,b,c){for(var d=a.array,e=0;e<c.length;e++)d[e+b]=255&c[e]}function c(a,b){return a.autoExpand&&a.expand(b),a}function d(a,b){var c=a.position+b;if(c>a.limit)throw new Error("Buffer underflow");return a}function e(a,b,c){var d=b+c;if(0>b||d>a.limit)throw new Error("Index out of bounds");return a}function f(a,b,c){var d=b+c;if(0>b||d>a.limit)throw new Error("Index out of bounds");return a}if("undefined"==typeof a.ByteBuffer){var g=function(b){this.array=b||[],this._mark=-1,this.limit=this.capacity=this.array.length,this.order=a.ByteOrder.BIG_ENDIAN};g.allocate=function(a){var b=new g;return b.capacity=a,b.limit=a,b},g.wrap=function(a){return new g(a)};var h=g.prototype;h.autoExpand=!0,h.capacity=0,h.position=0,h.limit=0,h.order=a.ByteOrder.BIG_ENDIAN,h.array=[],h.mark=function(){return this._mark=this.position,this},h.reset=function(){var a=this._mark;if(0>a)throw new Error("Invalid mark");return this.position=a,this},h.compact=function(){return this.array.splice(0,this.position),this.limit-=this.position,this.position=0,this},h.duplicate=function(){var a=new g(this.array);return a.position=this.position,a.limit=this.limit,a.capacity=this.capacity,a},h.fill=function(a){for(c(this,a);a-- >0;)this.put(0);return this},h.fillWith=function(a,b){for(c(this,b);b-- >0;)this.put(a);return this},h.indexOf=function(a){for(var b=this.limit,c=this.array,d=this.position;b>d;d++)if(c[d]==a)return d;return-1},h.put=function(a){return c(this,1),this.array[this.position++]=255&a,this},h.putAt=function(a,b){return f(this,a,1),this.array[a]=255&b,this},h.putUnsigned=function(a){return c(this,1),this.array[this.position++]=255&a,this},h.putUnsignedAt=function(a,b){return f(this,a,1),this.array[a]=255&b,this},h.putShort=function(a){return c(this,2),b(this,this.position,this.order._fromShort(a)),this.position+=2,this},h.putShortAt=function(a,c){return f(this,a,2),b(this,a,this.order._fromShort(c)),this},h.putUnsignedShort=function(a){return c(this,2),b(this,this.position,this.order._fromShort(65535&a)),this.position+=2,this},h.putUnsignedShortAt=function(a,c){return f(this,a,2),b(this,a,this.order._fromShort(65535&c)),this},h.putMediumInt=function(a){return c(this,3),this.putMediumIntAt(this.position,a),this.position+=3,this},h.putMediumIntAt=function(a,b){return this.putBytesAt(a,this.order._fromMediumInt(b)),this},h.putInt=function(a){return c(this,4),b(this,this.position,this.order._fromInt(a)),this.position+=4,this},h.putIntAt=function(a,c){return f(this,a,4),b(this,a,this.order._fromInt(c)),this},h.putUnsignedInt=function(a){return c(this,4),this.putUnsignedIntAt(this.position,4294967295&a),this.position+=4,this},h.putUnsignedIntAt=function(a,b){return f(this,a,4),this.putIntAt(a,4294967295&b),this},h.putString=function(a,b){return b.encode(a,this),this},h.putPrefixedString=function(a,b,d){if("undefined"==typeof d||"undefined"==typeof d.encode)throw new Error("ByteBuffer.putPrefixedString: character set parameter missing");if(0===a)return this;c(this,a);var e=b.length;switch(a){case 1:this.put(e);break;case 2:this.putShort(e);break;case 4:this.putInt(e)}return d.encode(b,this),this},h.putBytes=function(a){return c(this,a.length),b(this,this.position,a),this.position+=a.length,this},h.putBytesAt=function(a,c){return f(this,a,c.length),b(this,a,c),this},h.putByteArray=function(a){c(this,a.byteLength);for(var b=new Uint8Array(a),d=0;d<b.byteLength;d++)this.putAt(this.position+d,255&b[d]);return this.position+=a.byteLength,this},h.putBuffer=function(a){var b=a.remaining();c(this,b);for(var d=a.array,e=a.position,f=this.position,g=0;b>g;g++)this.array[g+f]=d[g+e];return this.position+=b,this},h.putBufferAt=function(a,b){var d=b.remaining();c(this,d);for(var e=b.array,f=b.position,g=this.position,h=0;d>h;h++)this.array[h+g]=e[h+f];return this},h.get=function(){return d(this,1),this.order._toByte(this.array[this.position++])},h.getAt=function(a){return e(this,a,1),this.order._toByte(this.array[a])},h.getUnsigned=function(){d(this,1);var a=this.order._toUnsignedByte(this.array[this.position++]);return a},h.getUnsignedAt=function(a){return e(this,a,1),this.order._toUnsignedByte(this.array[a])},h.getBytes=function(a){d(this,a);for(var b=new Array,c=0;a>c;c++)b.push(this.order._toByte(this.array[c+this.position]));return this.position+=a,b},h.getBytesAt=function(a,b){e(this,a,b);for(var c=new Array,d=this.array,f=0;b>f;f++)c.push(d[f+a]);return c},h.getBlob=function(b){var c=this.array.slice(this.position,b);return this.position+=b,a.BlobUtils.fromNumberArray(c)},h.getBlobAt=function(b,c){var d=this.getBytesAt(b,c);return a.BlobUtils.fromNumberArray(d)},h.getArrayBuffer=function(a){var b=new Uint8Array(a);return b.set(this.array.slice(this.position,a)),this.position+=a,b.buffer},h.getShort=function(){d(this,2);var a=this.getShortAt(this.position);return this.position+=2,a},h.getShortAt=function(a){e(this,a,2);var b=this.array;return this.order._toShort(b[a++],b[a++])},h.getUnsignedShort=function(){d(this,2);var a=this.getUnsignedShortAt(this.position);return this.position+=2,a},h.getUnsignedShortAt=function(a){e(this,a,2);var b=this.array;return this.order._toUnsignedShort(b[a++],b[a++])},h.getUnsignedMediumInt=function(){var a=this.array;return this.order._toUnsignedMediumInt(a[this.position++],a[this.position++],a[this.position++])},h.getMediumInt=function(){var a=this.getMediumIntAt(this.position);return this.position+=3,a},h.getMediumIntAt=function(a){var b=this.array;return this.order._toMediumInt(b[a++],b[a++],b[a++])},h.getInt=function(){d(this,4);var a=this.getIntAt(this.position);return this.position+=4,a},h.getIntAt=function(a){e(this,a,4);var b=this.array;return this.order._toInt(b[a++],b[a++],b[a++],b[a++])},h.getUnsignedInt=function(){d(this,4);var a=this.getUnsignedIntAt(this.position);return this.position+=4,a},h.getUnsignedIntAt=function(a){e(this,a,4);var b=this.array;return this.order._toUnsignedInt(b[a++],b[a++],b[a++],b[a++])},h.getPrefixedString=function(a,b){var c=0;switch(a||2){case 1:c=this.getUnsigned();break;case 2:c=this.getUnsignedShort();break;case 4:c=this.getInt()}if(0===c)return"";var d=this.limit;try{return this.limit=this.position+c,b.decode(this)}finally{this.limit=d}},h.getString=function(a){try{return a.decode(this)}finally{this.position=this.limit}},h.slice=function(){return new g(this.array.slice(this.position,this.limit))},h.flip=function(){return this.limit=this.position,this.position=0,this._mark=-1,this},h.rewind=function(){return this.position=0,this._mark=-1,this},h.clear=function(){return this.position=0,this.limit=this.capacity,this._mark=-1,this},h.remaining=function(){return this.limit-this.position},h.hasRemaining=function(){return this.limit>this.position},h.skip=function(a){return this.position+=a,this},h.getHexDump=function(){var a=this.array,b=this.position,c=this.limit;if(b==c)return"empty";for(var d=[],e=b;c>e;e++){var f=(a[e]||0).toString(16);1==f.length&&(f="0"+f),d.push(f)}return d.join(" ")},h.toString=h.getHexDump,h.expand=function(a){return this.expandAt(this.position,a)},h.expandAt=function(a,b){var c=a+b;return c>this.capacity&&(this.capacity=c),c>this.limit&&(this.limit=c),this},a.ByteBuffer=g}}(Kaazing),function(a){if("undefined"==typeof a.Charset){var b=function(){},c=b.prototype;c.decode=function(a){},c.encode=function(a,b){},b.UTF8=function(){function a(){}function c(a){if(0===(128&a))return 1;if(0===(32&a))return 2;if(0===(16&a))return 3;if(0===(8&a))return 4;throw new Error("Invalid UTF-8 bytes")}a.prototype=new b;var d=a.prototype;return d.decode=function(a){for(var b=a.remaining(),d=1e4>b,e=[],f=a.array,g=a.position,h=g+b,i,j,k,l,m=g;h>m;m++){i=255&f[m];var n=c(i),o=h-m;if(n>o)break;var p=null;switch(n){case 1:p=i;break;case 2:m++,j=255&f[m],p=(31&i)<<6|63&j;break;case 3:m++,j=255&f[m],m++,k=255&f[m],p=(15&i)<<12|(63&j)<<6|63&k;break;case 4:m++,j=255&f[m],m++,k=255&f[m],m++,l=255&f[m],p=(7&i)<<18|(63&j)<<12|(63&k)<<6|63&l}d?e.push(p):e.push(String.fromCharCode(p))}return d?String.fromCharCode.apply(null,e):e.join("")},d.encode=function(a,b){for(var c=b.position,d=c,e=b.array,f=0;f<a.length;f++){var g=a.charCodeAt(f);if(128>g)e[c++]=g;else if(2048>g)e[c++]=g>>6|192,e[c++]=63&g|128;else if(65536>g)e[c++]=g>>12|224,e[c++]=g>>6&63|128,e[c++]=63&g|128;else{if(!(1114112>g))throw new Error("Invalid UTF-8 string");e[c++]=g>>18|240,e[c++]=g>>12&63|128,e[c++]=g>>6&63|128,e[c++]=63&g|128}}b.position=c,b.expandAt(c,c-d)},d.encodeAsByteArray=function(a){for(var b=new Array,c=0;c<a.length;c++){var d=a.charCodeAt(c);if(128>d)b.push(d);else if(2048>d)b.push(d>>6|192),b.push(63&d|128);else if(65536>d)b.push(d>>12|224),b.push(d>>6&63|128),b.push(63&d|128);else{if(!(1114112>d))throw new Error("Invalid UTF-8 string");b.push(d>>18|240),b.push(d>>12&63|128),b.push(d>>6&63|128),b.push(63&d|128)}}return b},d.encodeByteArray=function(a){for(var b=a.length,c=[],d=0;b>d;d++){var e=a[d];if(128>e)c.push(e);else if(2048>e)c.push(e>>6|192),c.push(63&e|128);else if(65536>e)c.push(e>>12|224),c.push(e>>6&63|128),c.push(63&e|128);else{if(!(1114112>e))throw new Error("Invalid UTF-8 string");c.push(e>>18|240),c.push(e>>12&63|128),c.push(e>>6&63|128),c.push(63&e|128)}}return String.fromCharCode.apply(null,c)},d.encodeArrayBuffer=function(a){for(var b=new Uint8Array(a),c=b.length,d=[],e=0;c>e;e++){var f=b[e];if(128>f)d.push(f);else if(2048>f)d.push(f>>6|192),d.push(63&f|128);else if(65536>f)d.push(f>>12|224),d.push(f>>6&63|128),d.push(63&f|128);else{if(!(1114112>f))throw new Error("Invalid UTF-8 string");d.push(f>>18|240),d.push(f>>12&63|128),d.push(f>>6&63|128),d.push(63&f|128)}}return String.fromCharCode.apply(null,d)},d.toByteArray=function(a){for(var b=[],d,e,f,g,h=a.length,i=0;h>i;i++){d=255&a.charCodeAt(i);var j=c(d),k=null;if(j+i>h)break;switch(j){case 1:k=d;break;case 2:i++,e=255&a.charCodeAt(i),k=(31&d)<<6|63&e;break;case 3:i++,e=255&a.charCodeAt(i),i++,f=255&a.charCodeAt(i),k=(15&d)<<12|(63&e)<<6|63&f;break;case 4:i++,e=255&a.charCodeAt(i),i++,f=255&a.charCodeAt(i),i++,g=255&a.charCodeAt(i),k=(7&d)<<18|(63&e)<<12|(63&f)<<6|63&g}b.push(255&k)}return b},new a}(),a.Charset=b}}(Kaazing),function(){var a=URI.prototype;a.toString=function(){var a=[],b=this.scheme;if(void 0!==b){a.push(b),a.push("://"),a.push(this.host);var c=this.port;void 0!==c&&(a.push(":"),a.push(c.toString()))}return void 0!==this.path&&a.push(this.path),void 0!==this.query&&(a.push("?"),a.push(this.query)),void 0!==this.fragment&&(a.push("#"),a.push(this.fragment)),a.join("")};var b={http:80,ws:80,https:443,wss:443};URI.replaceProtocol=function(a,b){var c=a.indexOf("://");return c>0?b+a.substr(c):""}}();